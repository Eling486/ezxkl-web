<!doctype html>
<html lang="en"  class="no-js">
 <head>
	<meta charset="UTF-8">
	<script type="text/javascript" src="templates/head.js" charset="utf-8"></script>
	<title>北京二中下课铃投稿</title>
 </head>
 <body onload="GetMusic()">
	<div class="container">
		<header id="header" class="header">
		<script type="text/javascript" src="templates/header.js"></script>
		</header>
		<main di="main" class="main">
			<div class="main-inner">
				<div class="content-wrap">
					<div id="concent" class="content">
						<div class="aplayer-warp">
						<div class='aplayer' id='aplayer'></div>
						<script>
							const ap = new APlayer({
								container: document.getElementById('aplayer'),
								loop:'one',
								theme: '#e9e9e9',
								listMaxHeight: '100px',
							});
							/*const colorThief = new ColorThief();
							const setTheme = (index) => {
								if (!ap.list.audios[index].theme) {
									colorThief.getColorAsync(ap.list.audios[index].cover, function (color) {
										ap.theme(`rgb(${color[0]}, ${color[1]}, ${color[2]})`, index);
									});
								}
							};
							setTheme(ap.list.index);
							ap.on('listswitch', (index) => {
								setTheme(index);
							});*/
						</script>
						</div>
						<div class="input-wrap" id="input-wraper-search">
							<input class="search-input" type="text" placeholder="请输入关键词查找（如日期、名称、音乐人等）" id="search-input" autocomplete="off">
							<input class="btn-refresh" type="button" onclick="GetMusic()" value="刷新列表" />
						</div>
						<div class="table-wrap">
							<table frame=void>
								<thead>
									<tr class="row">
										<td class="id" style="display:none;">id</td>
										<td class="week" style="display:none;">播放周</td>
										<td class="date">播放日期</td>
										<td class="ncmid" style="display:none;">网易云id</td>
										<td class="showname">显示名称</td>
										<td class="realname">实际名称</td>
										<td class="artist">音乐人</td>
										<td class="state" style="display:none;">版权状态</td>
										<td class="user" style="display:none;">投稿人</td>
									</tr>
								</thead>
								<tbody class="music-table" id="music-table">

								</tbody>
							</table>
						</div>
					</div>
				</div>

				<aside id="sidebar" class="sidebar">
					<div class="sidebar-inner">

					</div>
				</aside>
			</div>
		</main>
		<footer id="footer" class="footer">
		<script type="text/javascript" src="templates/footer.js"></script>
		</footer>
	</div>
	<script type="text/javascript" src="js/get_music.js"></script>
	<script type="text/javascript" src="js/search.js"></script>
	<script type="text/javascript" src="js/play_music.js"></script>
 </body>
</html>
